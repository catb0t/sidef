#!/usr/bin/ruby

# http://rosettacode.org/wiki/Josephus_problem

func josephus_i(n, k) {
    var prisoners = (0 .. n-1);
    while (prisoners.len > 1) {
        prisoners.rotate!(k - 1).shift;
    };
    return prisoners[0];
};

func josephus_r(n, k) {
    n == 1 ? 0 : ((__FUNC__(n-1, k) + k) % n)
};


var i = josephus_i(41, 3);
var j = josephus_r(41, 3);

i == j  || die "error: #{i} != #{j}";
i == 30 || die "#{i} != 30";

say "** Test passed!";
