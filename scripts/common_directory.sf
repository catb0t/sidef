#!/usr/bin/ruby

var dirs = %w(
    /home/user1/tmp/coverage/test
    /home/user1/tmp/covert/operator
    /home/user1/tmp/coven/members
);

var unique_pref = dirs.map{.split('/')}.abbrev.min_by{.len};
var common_dir  = unique_pref.pop:.join('/');
say common_dir;                           # => /home/user1/tmp

var words = %w(
    deodorant
    decor
    decorat
    decadere
    plecare
    placere
    plecat
    jaguar
);

words.map{.split(1)}.abbrev(func(a) { say a.join });
