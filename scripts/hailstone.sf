#!/usr/bin/perl

# Translation of: http://rosettacode.org/wiki/Hailstone_sequence#Perl

func hailstone (n) {

    var sequence = [n];

    while (n > 1) {

        n = (
              n.isEven ? (n / 2)
                       : (n * 3 + 1)
            );

        sequence.append(n);
    }

    return(sequence);
}

var h = (hailstone(27));

h[0]  ==  27 || ("Item error!"   -> die);
h.len == 112 || ("Length error!" -> die);

"Length of hailstone(27) = %s".printlnf(h.len);
"[%s]".printlnf(h[0 .. 3] + ['...'] + h[-4 .. -1].join(', '));
