#!/usr/bin/ruby

#
## http://rosettacode.org/wiki/Longest_Common_Substring
#

func createSubstrings(String word) -> Array {
  gather {
    for i,j in (@^(word.len+1) -> combinations(2)) {
        take(word.substr(i, j-i))
    }
  }
}

func findLongestCommon(String first, String second) -> Str {
    createSubstrings(first) & createSubstrings(second) -> max_by { .len }
}

var substr = findLongestCommon("thisisatest", "testing123testing")

say substr
assert_eq(substr, "test")
