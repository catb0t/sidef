#!/usr/bin/ruby

#
## http://rosettacode.org/wiki/First-class_functions
#

func compose(f,g) {
    func (*args) {
        f(g(args...));
    }
}

var cube  = func(a) { a.pow(3) };
var croot = func(a) { a.root(3) };

var flist1 = [Num.method(:sin),  Num.method(:cos),   cube];
var flist2 = [Num.method(:asin), Num.method(:acos), croot];

flist1.range.each { |i|
    say compose(flist1[i], flist2[i])(0.5);
}
