#!/usr/bin/ruby

#
## Built-in stringification overloading (implementation specific)
#

class Number {

    var lingua = require('Lingua::RO::Numbers').new

    method get_value {
        lingua.number_to_ro((*self).Rmpq_get_d)
    }

    Number.def_method('(""', {|self| self.get_value })
}

var arr = []
for i in (1..^20) {
    say i
    arr << "#{i}"
}

assert_eq(arr, [
    "unu", "doi", "trei", "patru",
    "cinci", "\x{219}ase", "\x{219}apte",
    "opt", "nou\x{103}", "zece", "unsprezece",
    "doisprezece", "treisprezece", "paisprezece",
    "cincisprezece", "\x{219}aisprezece", "\x{219}aptesprezece",
    "optsprezece", "nou\x{103}sprezece", "dou\x{103}zeci"]
)
