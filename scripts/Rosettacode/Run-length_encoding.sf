#!/usr/bin/ruby

#
## http://rosettacode.org/wiki/Run-length_encoding
#

func encode(str) {
  str.gsub(/((.)(\2*))/, {|a,b| "#{a.len}#{b}" });
}
Â 
func decode(str) {
  str.gsub(/(\d+)(.)/, {|a,b| b * a.to_i });
};

var str = 'WWWWWWWWWWWWBWWWWWWWWWWWWBBBWWWWWWWWWWWWWWWWWWWWWWWWBWWWWWWWWWWWWWW';

var enc = encode(str);
var dec = decode(enc);

say enc;
say dec;
