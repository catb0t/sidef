#!/usr/bin/ruby

#
## http://rosettacode.org/wiki/Averages/Mean_angle
#

func mean_angle(angles) {
    Math.atan2(
        angles.map { Math.sin(_ * Math.PI / 180) }.sum / angles.len,
        angles.map { Math.cos(_ * Math.PI / 180) }.sum / angles.len,
    ) * 180 / Math.PI;
}
 
[[350,10], [90,180,270,360], [10,20,30]].each { |angles|
  say "The mean angle of #{angles.dump} is: #{ '%.2f' % mean_angle(angles)} degrees";
}
