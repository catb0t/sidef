#!/usr/bin/ruby

#
## http://rosettacode.org/wiki/Find_the_last_Sunday_of_each_month
#

require 'DateTime';

var (year=2015) = ARGVÂ»to_iÂ»()...;

range(1, 12).each { |i|
    var date = %s'DateTime'.last_day_of_month(
        year  => year,
        month => i
    );

    while (date.dow != 7) {
        [date.subtract(days => 1)] Â» \date;
    };

    say date.ymd;
}
