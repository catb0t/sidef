#!/usr/bin/ruby

#
## http://rosettacode.org/wiki/Anagrams
#

func main(file) {
    file.open_r(&var fh, &var err)
        || "Can't open file `#{file}' for reading: #{err}\n".die;
 
    var vls = fh.words.group_by{.sort}.values;
    var max = vls.map{.len}.max;
    vls.grep{.len == max}.each{.join("\t").say};
}
 
main(%f'/tmp/unixdict.txt');
