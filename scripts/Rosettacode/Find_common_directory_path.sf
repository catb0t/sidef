#!/usr/bin/ruby

#
## http://rosettacode.org/wiki/Find_common_directory_path
#

var dirs = %w(
    /home/user1/tmp/coverage/test
    /home/user1/tmp/covert/operator
    /home/user1/tmp/coven/members
);
Â 
var unique_pref = dirs.map{.split('/')}.abbrev.min_by{.len};
var common_dir  = unique_pref.pop:.join('/');
say common_dir;   # => /home/user1/tmp
