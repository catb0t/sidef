#!/usr/bin/ruby

func mandelbrot(z) {
    var c = z
    20.times {
        z = (z*z + c)
        z.abs > 2 && return true
    }
    return false
}

1 ^.. (-1, 0.05) -> each { |y|
    -2 ..^ (0.5, 0.0315) -> each { |x|
        print(mandelbrot(Complex(x, y)) ? ' ' : '#')
    }
    print "\n"
}
