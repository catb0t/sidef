#!/usr/bin/ruby

# Translation of: http://rosettacode.org/wiki/Arithmetic-geometric_mean#Go

const ε = 1e-14;

func agm(a, g) {

    while ((a-g.abs) > (a*ε.abs)) {
        [a+g*.5, a*g.sqrt].assignTo(\a, \g);
    }

    return $a;
}

Sys.println(agm(1, 1/(2.sqrt)));
